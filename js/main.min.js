$(function(){function d(a){return new Promise(function(b){var c='\n\n        <img id="pfp" src="'+a.g+'" />\n\n        <h2>'+a.name+"</h2>\n\n        <h4>"+a.f+"</h4>\n\n        <br><br>\n\n        <table>\n\n        <tr><th>Platform</th><th>Username</th><tr>\n";for(platform in a)"name"!==platform&&"picurl"!==platform&&"bio"!==platform&&"profileID"!==platform&&a[platform]&&(c+="<tr><td>"+platform+"</td><td>"+a[platform]+"</td></tr>\n");b(c+"</table>\n")})}function f(a){return new Promise(function(b){var c=
    "<table>\n<tr><th>User Name</th><th>Platform</th><th>Profile Name</th>";for(i=0;i<a.length;i++)"name"!==a[i].b&&"picurl"!==a[i].b&&"bio"!==a[i].b&&"profileID"!==a[i].b&&(c+="\n<tr>\n<td>"+a[i].j+"</td>\n<td>"+a[i].b+'</td>\n<td><a href="'+("http://presdense.soopre.me/id/"+a[i].l)+'">'+a[i].s+"</a></td>\n</tr>");return b(c+"\n</table>")})}function g(a){return new Promise(function(b,c){h("http://presdense.soopre.me/api/search/name",{name:a}).then(b)["catch"](c)})}function h(a,b){return new Promise(function(c,
    k){fetch(a,{method:"POST",headers:e,body:JSON.stringify(b)}).then(function(a){return a.json()}).then(function(a){c(a.json)})["catch"](function(a){k(a)})})}function n(a){return new Promise(function(b){localStorage.getItem("id")&&localStorage.removeItem("id");localStorage.setItem("id",a.id);b(a)})}function p(a){return new Promise(function(b,c){console.log(JSON.stringify(a));fetch("http://presdense.soopre.me/api/new",{method:"POST",headers:e,body:JSON.stringify(a)}).then(function(a){return a.json()}).then(function(a){b(a)})["catch"](function(a){c(a)})})}
    function l(){var a=window.location.toString().split("/");fetch("http://presdense.soopre.me/api/id/"+a[a.length-1]).then(function(a){return a.json()}).then(d).then(function(a){return $("#profile").c(a)})["catch"](function(a){return $("#title").text(a)})}function m(){var a=localStorage.getItem("id");if(a)return fetch("http://presdense.soopre.me/api/id/"+a).then(function(a){return a.json()}).then(d).then(function(a){return $("#profile").c(a)})["catch"](function(a){return $("#title").text(a)});window.location=
    "http://presdense.soopre.me/404"}$("#newButton").click(function(){return window.location+="new"});$("#searchButton").click(function(){return window.location+="search"});$("#viewButton").click(function(){return window.location+="view"});var e=new Headers({"Content-Type":"application/json"});$("#submit").click(function(){var a=$("#picurl").a(),b=$("#name").a(),c=$("#bio").a(),k=$("#github").a(),d=$("#discord").a(),e=$("#snapchat").a(),f=$("#instagram").a(),g=$("#reddit").a(),h=$("#steam").a(),l=$("#twitter").a(),
    m=$("#facebook").a();p({g:a,name:b,f:c,m:k,h:d,v:e,o:f,u:g,w:h,A:l,i:m}).then(n).then(function(a){return window.location="http://presdense.soopre.me/id/"+a.id})["catch"](function(a){return $("#title").text(a)})});$("#submitSearch").click(function(){var a=$("#searchValue").a();g(a).then(f).then(function(a){return $("#results").c(a)})["catch"](function(a){return $("#title").text(a)})});window.location.toString().includes("http://presdense.soopre.me/id/")&&l();"http://presdense.soopre.me/view"===window.location.href&&
    m()});